(this["webpackJsonptodo-jm"]=this["webpackJsonptodo-jm"]||[]).push([[0],{28:function(t,e,n){},29:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),s=n(8),o=n.n(s),r=n(3),i=n(4),u=n(6),d=n(2),l="ADD_NEW_TODO",j="GET_CURRENT_KEY",b="HANDLE_COMPLETED",O="REMOVE_TODO",f="SET_EDIT_MODE",p="CANCEL_EDIT_MODE",m="ADD_EDITED_TODO",v="REMOVE_COMPLETED",x="SET_CURRENT_FILTER",h=function(t,e){return{type:p,payload:{idx:t,taskStatus:e}}},y={todos:[{id:Date.now(),text:"Learn React",time:"12:25",status:"active"},{id:1,text:"Learn Redux",time:"12:27",status:"active"},{id:2,text:"Ask Serhio questions about JS",time:"12:29",status:"completed"},{id:3,text:"Learn async code from code.mu",time:"12:45",status:"active"}],currentFilter:"all",currentKey:null,filters:["all","active","completed"]},E=Object(i.b)({app:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,e=arguments.length>1?arguments[1]:void 0,n=e.type,c=e.payload;switch(n){case l:return c.trim()?Object(d.a)(Object(d.a)({},t),{},{inputValue:"",currentKey:null,todos:t.todos.concat({id:Math.random(),text:c,time:(new Date).getHours()+" "+(new Date).getMinutes(),status:"active"})}):Object(d.a)({},t);case j:return Object(d.a)(Object(d.a)({},t),{},{currentKey:c});case b:var a=c.i,s=c.status,o=Object(u.a)(t.todos);return o[a].status="active"===s?"completed":"active",Object(d.a)(Object(d.a)({},t),{},{todos:o});case O:var r=c.i,i=Object(u.a)(t.todos);return i.splice(r,1),Object(d.a)(Object(d.a)({},t),{},{todos:i});case f:var h=Object(u.a)(t.todos);return h.some((function(t){return"editing"===t.status}))&&h.map((function(t){return"editing"===t.status?t.status="active":t})),h[c].status="editing",Object(d.a)(Object(d.a)({},t),{},{todos:h});case p:var E=c.idx,g=c.taskStatus,k=Object(u.a)(t.todos);return k[E].status=g,Object(d.a)(Object(d.a)({},t),{},{todos:k});case m:var D=c.index,N=c.editedText,C=c.editedStatus,R=Object(u.a)(t.todos);return R[D].text=N,R[D].status=C,Object(d.a)(Object(d.a)({},t),{},{todos:R});case v:return Object(d.a)(Object(d.a)({},t),{},{todos:c.filter((function(t){return"active"===t.status}))});case x:return Object(d.a)(Object(d.a)({},t),{},{currentFilter:c});default:return t}}}),g=Object(i.c)(E),k=n(5),D=n(1),N=function(t){t.valueHandler;var e=Object(r.c)(),n=Object(c.useState)(""),a=Object(k.a)(n,2),s=a[0],o=a[1];return Object(D.jsxs)("header",{className:"header",children:[Object(D.jsx)("h1",{children:"todos"}),Object(D.jsx)("form",{onSubmit:function(t){t.preventDefault(),e({type:l,payload:s}),o("")},children:Object(D.jsx)("input",{value:s,className:"new-todo",placeholder:"What needs to be done?",autoFocus:!0,onChange:function(t){return function(t){var e=t.target.value;return o(e)}(t)}})})]})},C=function(t){var e=t.tasksRemaining,n=t.onFilter,c=t.onRemoveCompleted,a=t.filter,s=Object(r.d)((function(t){return t.app.filters}));return Object(D.jsxs)("footer",{className:"footer",children:[Object(D.jsx)("span",{className:"todo-count",children:e?"Active ".concat(e):"All Done!"}),Object(D.jsx)("ul",{className:"filters",children:s.map((function(t){return Object(D.jsx)("li",{children:Object(D.jsx)("button",{onClick:n,className:t===a?"selected":"","data-filter":t,children:t})},t)}))}),Object(D.jsx)("button",{onClick:c,className:"clear-completed",children:"Clear completed"})]})},R=n(16),T=n.n(R),w=function(t){var e=t.text,n=t.time,a=t.status,s=t.i,o=t.onComplete,i=t.onRemove,u=Object(r.c)(),d=Object(c.useState)(e),l=Object(k.a)(d,2),b=l[0],O=l[1],p=Object(c.useState)(!1),v=Object(k.a)(p,2),x=v[0],y=v[1],E=Object(c.useState)(null),g=Object(k.a)(E,2),N=g[0],C=g[1],R=function t(n){27===n.keyCode&&(window.removeEventListener("keydown",t),u(h(s,N)),y(!1),O(e))};return Object(c.useEffect)((function(){if(x)return window.addEventListener("keydown",R),function(){return window.addEventListener("keydown",R)}})),Object(D.jsxs)("li",{className:T()({completed:"completed"===a,editing:"editing"===a}),children:[Object(D.jsxs)("div",{className:"view",children:[Object(D.jsx)("input",{onChange:function(){return o(s,a)},className:"toggle",type:"checkbox",checked:"completed"===a}),Object(D.jsxs)("label",{children:[Object(D.jsx)("span",{className:"description",children:e}),Object(D.jsx)("span",{className:"created",children:n})]}),Object(D.jsx)("button",{onClick:function(){C(a),y(!0),u(function(t){return{type:f,payload:t}}(s))},className:"icon icon-edit"}),Object(D.jsx)("button",{onClick:function(){return i(s)},className:"icon icon-destroy"})]}),"editing"===a&&Object(D.jsx)("form",{onSubmit:function(t){t.preventDefault(),C(a),u({type:m,payload:{index:s,editedText:b,editedStatus:N}}),u(h(s,N)),y(!1)},children:Object(D.jsx)("input",{type:"text",autoFocus:!0,className:"edit edit-mode",id:s,onChange:function(t){return function(t){var e=t.target.value;O(e)}(t)},value:b,onKeyPress:function(t){return u((e=t.key,{type:j,payload:e}));var e}})})]})},S=function(t){var e=t.tasks,n=Object(r.c)(),c=function(t,e){return n(function(t,e){return{type:b,payload:{i:t,status:e}}}(t,e))},a=function(t){return n(function(t){return{type:O,payload:t}}(t))};return console.log("rendering todos",e),Object(D.jsx)("ul",{className:"todo-list",children:e.map((function(t,e){var n=t.id,s=t.text,o=t.time,r=t.status;return Object(D.jsx)(w,{text:s,time:o,status:r,i:e,onComplete:c,onRemove:a},n)}))})},_=n(14),L=function(t){return t.app.todos},M=function(t){return t.app.currentFilter},F=Object(_.a)(L,(function(t){return t.filter((function(t){return"completed"!==t.status})).length})),A=Object(_.a)([M,L],(function(t,e){return"completed"===t?e.filter((function(t){return"completed"===t.status||"editing"===t.status})):"active"===t?e.filter((function(t){return"active"===t.status||"editing"===t.status})):e})),I=Object(r.b)((function(t){return{filter:M(t),tasksRemaining:F(t),todosToRender:A(t)}}))((function(t){var e=t.filter,n=t.tasksRemaining,c=t.todosToRender,a=Object(r.c)();return Object(D.jsxs)("section",{className:"todoapp",children:[Object(D.jsx)(N,{}),Object(D.jsx)(S,{tasks:c}),Object(D.jsx)(C,{tasksRemaining:n,onFilter:function(t){var e=t.target.dataset.filter;a({type:x,payload:e})},onRemoveCompleted:function(){a({type:v,payload:c})},filter:e})]})})),K=(n(28),function(){return Object(D.jsx)(I,{})});o.a.render(Object(D.jsx)(a.a.StrictMode,{children:Object(D.jsx)(r.a,{store:g,children:Object(D.jsx)(K,{})})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.602f634c.chunk.js.map