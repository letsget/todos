(this["webpackJsonptodo-jm"]=this["webpackJsonptodo-jm"]||[]).push([[0],{27:function(t,e,n){},28:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),r=n(8),o=n.n(r),s=n(3),i=n(4),u=n(6),l=n(2),d=n(5),j="ADD_NEW_TODO",b="HANDLE_VALUE",O="GET_CURRENT_KEY",p="HANDLE_COMPLETED",f="REMOVE_TODO",m="SET_EDIT_MODE",v="CANCEL_EDIT_MODE",x="ADD_EDITED_TODO",y="REMOVE_COMPLETED",h="SET_CURRENT_FILTER",E=function(t){return{type:O,payload:t}},g=function(t,e){return{type:v,payload:{idx:t,taskStatus:e}}},N={todos:[{id:Date.now(),text:"Learn React",time:"12:25",status:"active"},{id:1,text:"Learn Redux",time:"12:27",status:"active"},{id:2,text:"Ask Serhio questions about JS",time:"12:29",status:"completed"},{id:3,text:"Learn async code from code.mu",time:"12:45",status:"active"}],currentFilter:"all",inputValue:"",currentKey:null},D=Object(i.b)({app:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,e=arguments.length>1?arguments[1]:void 0,n=e.type,c=e.payload;switch(n){case j:return c.trim()?Object(l.a)(Object(l.a)({},t),{},{inputValue:"",currentKey:null,todos:t.todos.concat({id:Math.random(),text:c,time:(new Date).getHours()+" "+(new Date).getMinutes(),status:"active"})}):Object(l.a)({},t);case b:return Object(l.a)(Object(l.a)({},t),{},{inputValue:c});case O:return Object(l.a)(Object(l.a)({},t),{},{currentKey:c});case p:var a=c.i,r=c.status,o=Object(u.a)(t.todos);return o[a].status="active"===r?"completed":"active",Object(l.a)(Object(l.a)({},t),{},{todos:o});case f:var s=Object(u.a)(t.todos);return s.splice(c,1),Object(l.a)(Object(l.a)({},t),{},{todos:s});case m:var i=Object(u.a)(t.todos);return i.some((function(t){return"editing"===t.status}))&&i.map((function(t){return"editing"===t.status?t.status="active":t})),i[c].status="editing",Object(l.a)(Object(l.a)({},t),{},{todos:i});case v:var d=c.idx,E=c.taskStatus,g=Object(u.a)(t.todos);return g[d].status=E,Object(l.a)(Object(l.a)({},t),{},{todos:g});case x:var D=c.index,k=c.editedText,C=c.editedStatus,w=Object(u.a)(t.todos);return w[D].text=k,w[D].status=C,Object(l.a)(Object(l.a)({},t),{},{todos:w});case y:return Object(l.a)(Object(l.a)({},t),{},{todos:c.filter((function(t){return"active"===t.status}))});case h:return Object(l.a)(Object(l.a)({},t),{},{currentFilter:c});default:return t}}}),k=Object(i.c)(D),C=n(1),w=function(t){var e=t.valueHandler,n=Object(s.b)(),a=Object(s.c)((function(t){return t.app.inputValue})),r=Object(s.c)((function(t){return t.app.currentKey}));return Object(c.useEffect)((function(){"Enter"===r&&n({type:j,payload:a})}),[r]),Object(C.jsxs)("header",{className:"header",children:[Object(C.jsx)("h1",{children:"todos"}),Object(C.jsx)("input",{value:a,className:"new-todo",placeholder:"What needs to be done?",autoFocus:!0,onChange:function(t){return e(t)},onKeyPress:function(t){return function(t){return n(E(t.key))}(t)}})]})},R=["all","active","completed"],T=function(t){var e=t.tasksRemaining,n=t.onFilter,c=t.onRemoveCompleted,a=t.filter;return Object(C.jsxs)("footer",{className:"footer",children:[Object(C.jsx)("span",{className:"todo-count",children:e?"Active ".concat(e):"All Done!"}),Object(C.jsx)("ul",{className:"filters",children:R.map((function(t){return Object(C.jsx)("li",{children:Object(C.jsx)("button",{onClick:n,className:t===a?"selected":"","data-filter":t,children:t})},t)}))}),Object(C.jsx)("button",{onClick:c,className:"clear-completed",children:"Clear completed"})]})},_=n(15),S=n.n(_),L=function(t){var e=t.text,n=t.time,a=t.status,r=t.i,o=t.onComplete,i=t.onRemove,u=Object(s.b)(),l=Object(c.useState)(e),j=Object(d.a)(l,2),b=j[0],O=j[1],p=Object(c.useState)(!1),f=Object(d.a)(p,2),v=f[0],y=f[1],h=Object(c.useState)(null),N=Object(d.a)(h,2),D=N[0],k=N[1],w=Object(c.useRef)(null),R=function t(n){27===n.keyCode&&(window.removeEventListener("keydown",t),u(g(r,D)),y(!1),O(e))};return Object(c.useEffect)((function(){if(v)return window.addEventListener("keydown",R),function(){return window.addEventListener("keydown",R)}})),Object(C.jsxs)("li",{className:S()({completed:"completed"===a,editing:"editing"===a}),children:[Object(C.jsxs)("div",{className:"view",children:[Object(C.jsx)("input",{onChange:function(){return o(r,a)},className:"toggle",type:"checkbox",checked:"completed"===a}),Object(C.jsxs)("label",{children:[Object(C.jsx)("span",{className:"description",children:e}),Object(C.jsx)("span",{className:"created",children:n})]}),Object(C.jsx)("button",{onClick:function(){k(a),y(!0),u(function(t){return{type:m,payload:t}}(r))},className:"icon icon-edit"}),Object(C.jsx)("button",{onClick:function(){return i(r)},className:"icon icon-destroy"})]}),"editing"===a&&Object(C.jsx)("form",{onSubmit:function(t){t.preventDefault(),k(a),u({type:x,payload:{index:r,editedText:b,editedStatus:D}}),u(g(r,D)),y(!1)},children:Object(C.jsx)("input",{type:"text",autoFocus:!0,ref:w,className:"edit edit-mode",id:r,onChange:function(t){return function(t){var e=t.target.value;O(e)}(t)},value:b,onKeyPress:function(t){return u(E(t.key))}})})]})},A=function(t){var e=t.tasks,n=t.valueHandler,c=Object(s.b)(),a=function(t,e){return c(function(t,e){return{type:p,payload:{i:t,status:e}}}(t,e))},r=function(t){return c(function(t){return{type:f,payload:t}}(t))};return Object(C.jsx)("ul",{className:"todo-list",children:e.map((function(t,e){var c=t.id,o=t.text,s=t.time,i=t.status;return Object(C.jsx)(L,{text:o,time:s,status:i,i:e,onComplete:a,onRemove:r,valueHandler:n},c)}))})},M=function(){var t=Object(s.b)(),e=Object(s.c)((function(t){return t.app.todos})),n=Object(s.c)((function(t){return t.app.currentFilter})),c=e.filter((function(t){var e=t.status;return"active"===e||"editing"===e})),a=e.filter((function(t){var e=t.status;return"completed"===e||"editing"===e})),r=e.filter((function(t){return"completed"!==t.status})).length,o="all"===n?e:"active"===n?c:a,i=function(e){var n=e.target.value;return t(function(t){return{type:b,payload:t}}(n))};return Object(C.jsxs)("section",{className:"todoapp",children:[Object(C.jsx)(w,{valueHandler:i}),Object(C.jsx)(A,{tasks:o,valueHandler:i}),Object(C.jsx)(T,{tasksRemaining:r,onFilter:function(e){var n=e.target.dataset.filter;t({type:h,payload:n})},onRemoveCompleted:function(){t({type:y,payload:e})},filter:n})]})},F=(n(27),function(){return Object(C.jsx)(M,{})});console.log(k),console.log(k.getState()),o.a.render(Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(s.a,{store:k,children:Object(C.jsx)(F,{})})}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.75d0d425.chunk.js.map